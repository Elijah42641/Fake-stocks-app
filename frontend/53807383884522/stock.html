<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="stock.css" />
    <title>fds</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        font-family: sans-serif;
      }
      .chartMenu {
        width: 100vw;
        height: 40px;
        background: #1a1a1a;
        color: rgba(54, 162, 235, 1);
      }
      .chartMenu p {
        padding: 10px;
        font-size: 20px;
      }
      .chartCard {
        width: 100vw;
        height: calc(100vh - 40px);
        background: rgba(54, 162, 235, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .gridContainerForTimeFrame {
        padding: 10px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
        background-color: #222;
      }

      .timeFrame {
        padding: 8px 16px;
        background: #1a1a1a;
        color: white;
        border: 1px solid rgba(54, 162, 235, 0.8);
        border-radius: 6px;
        cursor: pointer;
      }

      #trade-prompt {
        opacity: 0;
        transition: opacity 0.3s ease;
        pointer-events: none;
        background: white;
        padding: 20px;
        width: 300px;
        margin: 20px auto;
        text-align: center;
        border: 2px solid rgba(54, 162, 235, 1);
        border-radius: 12px;
      }

      #trade-prompt.visible {
        opacity: 1;
        pointer-events: auto;
      }

      #trade-prompt.hidden {
        display: none;
      }

      #trade-cta {
        display: block;
        margin: 20px auto;
        padding: 10px 20px;
        background: #1a1a1a;
        color: white;
        border: 1px solid rgba(54, 162, 235, 1);
        border-radius: 6px;
        cursor: pointer;
      }
    </style>
  </head>

  <div class="chartMenu">
    <p>WWW.FAKESTOCKS.COM (Chart JS <span id="chartVersion"></span>)</p>
  </div>

  <div class="stockInfo">
    <span id="currentPrice">Price: $--</span>
    <span id="lastUpdated">Last update: --:--:--</span>
  </div>

  <div class="chartCard">
    <div class="chartBox">
      <canvas id="myChart"></canvas>
    </div>
  </div>

  <div class="gridContainerForTimeFrame">
    <button class="timeFrame" id="oneMinute">1 minute</button>
    <button class="timeFrame" id="fiveMinutes">5 minutes</button>
    <button class="timeFrame" id="twentyMinutes">20 minutes</button>
    <button class="timeFrame" id="oneHour">1 hour</button>
    <button class="timeFrame" id="threeHours">3 hours</button>
    <button class="timeFrame" id="oneDay">1 day</button>
    <button class="timeFrame" id="oneWeek">1 week</button>
  </div>

  <button id="trade-cta">Make a Trade</button>

  <div id="trade-prompt" class="hidden">
    <h2>New Trade</h2>
    <input id="userTradeAmount" type="number" placeholder="Enter amount" />
    <p id="invalidTradeText"></p>
    <button id="sell">Sell</button>
    <button id="buy">Buy</button>
  </div>

  <!-- JS Dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial@0.2.1/dist/chartjs-chart-financial.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/luxon/build/global/luxon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon"></script>
  <script type="module" src="stock.js"></script>

  <script>
    const cta = document.getElementById("trade-cta");
    const prompt = document.getElementById("trade-prompt");

    cta.addEventListener("click", () => {
      prompt.classList.remove("hidden");
      setTimeout(() => {
        prompt.classList.add("visible");
      }, 10);
    });

    // Chart.js version
    document.getElementById("chartVersion").innerText = Chart.version;
  </script>
</html>
